{% extends "_layout.html" %}

{% block content %}

<div class="container-fluid mt-3">
   <div class="card mx-2">
      <div class="card-header text-bg-orange d-flex jus flex-wrap justify-content-between">
         <h5 class="card-title">Acessos</h5>
      </div>
      <div class="card-body justify-content-center table-responsive">
         <table class="table table-striped align-middle" id="acessosTable">
            <thead>
               <tr>
                  <th scope="col">Data</th>
                  <th scope="col">Placa</th>
                  <th scope="col">Funcion√°rio</th>
               </tr>
            </thead>
            <tbody>
               {% for x in acessos%}
               <tr>
                  <td>{{x.inserido_em}}</td>
                  <td>{{x.caracteres_detectados}}</td>
                  <td>
                     {% if x.veiculo != None %}
                     {{x.veiculo.funcionario.nome}} - {{x.veiculo.funcionario.nome}}
                     {% endif %}
                  </td>
               </tr>
               {% endfor %}
            </tbody>
         </table>
      </div>
   </div>
</div>

{% endblock %}

{% block scripts %}

<script>
   new DataTable("#acessosTable", {
      language: {
         url: '//cdn.datatables.net/plug-ins/1.13.6/i18n/pt-BR.json',
      },
      {# ajax: { url: '/api/acessos', dataSrc: '' },
      columns: [
      { data: 'inserido_em' },
      { data: 'caracteres_detectados' },
      { data: 'veiculo.funcionario.nome' }
   ], #}
      dom: '<"align-items-center d-flex justify-content-between py-2 w-100"if>rt<"align-items-center d-flex justify-content-between py-2 w-100"<"w-100"l><p><"w-100">>'
   })
</script>

{% endblock %}